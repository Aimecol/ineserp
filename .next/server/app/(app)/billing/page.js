(()=>{var e={};e.id=3067,e.ids=[3067],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10022:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23928:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31158:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},33873:e=>{"use strict";e.exports=require("path")},40228:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},40599:(e,t,s)=>{"use strict";s.d(t,{UC:()=>H,ZL:()=>L,bL:()=>G,l9:()=>B});var a=s(43210),r=s(70569),l=s(98599),n=s(11273),i=s(31355),d=s(1359),o=s(32547),c=s(96963),u=s(55509),m=s(25028),x=s(46059),h=s(14163),p=s(8730),v=s(65551),j=s(63376),g=s(42247),y=s(60687),f="Popover",[b,N]=(0,n.A)(f,[u.Bk]),w=(0,u.Bk)(),[A,C]=b(f),D=e=>{let{__scopePopover:t,children:s,open:r,defaultOpen:l,onOpenChange:n,modal:i=!1}=e,d=w(t),o=a.useRef(null),[m,x]=a.useState(!1),[h=!1,p]=(0,v.i)({prop:r,defaultProp:l,onChange:n});return(0,y.jsx)(u.bL,{...d,children:(0,y.jsx)(A,{scope:t,contentId:(0,c.B)(),triggerRef:o,open:h,onOpenChange:p,onOpenToggle:a.useCallback(()=>p(e=>!e),[p]),hasCustomAnchor:m,onCustomAnchorAdd:a.useCallback(()=>x(!0),[]),onCustomAnchorRemove:a.useCallback(()=>x(!1),[]),modal:i,children:s})})};D.displayName=f;var P="PopoverAnchor";a.forwardRef((e,t)=>{let{__scopePopover:s,...r}=e,l=C(P,s),n=w(s),{onCustomAnchorAdd:i,onCustomAnchorRemove:d}=l;return a.useEffect(()=>(i(),()=>d()),[i,d]),(0,y.jsx)(u.Mz,{...n,...r,ref:t})}).displayName=P;var S="PopoverTrigger",k=a.forwardRef((e,t)=>{let{__scopePopover:s,...a}=e,n=C(S,s),i=w(s),d=(0,l.s)(t,n.triggerRef),o=(0,y.jsx)(h.sG.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":z(n.open),...a,ref:d,onClick:(0,r.m)(e.onClick,n.onOpenToggle)});return n.hasCustomAnchor?o:(0,y.jsx)(u.Mz,{asChild:!0,...i,children:o})});k.displayName=S;var E="PopoverPortal",[M,R]=b(E,{forceMount:void 0}),F=e=>{let{__scopePopover:t,forceMount:s,children:a,container:r}=e,l=C(E,t);return(0,y.jsx)(M,{scope:t,forceMount:s,children:(0,y.jsx)(x.C,{present:s||l.open,children:(0,y.jsx)(m.Z,{asChild:!0,container:r,children:a})})})};F.displayName=E;var I="PopoverContent",O=a.forwardRef((e,t)=>{let s=R(I,e.__scopePopover),{forceMount:a=s.forceMount,...r}=e,l=C(I,e.__scopePopover);return(0,y.jsx)(x.C,{present:a||l.open,children:l.modal?(0,y.jsx)(q,{...r,ref:t}):(0,y.jsx)($,{...r,ref:t})})});O.displayName=I;var q=a.forwardRef((e,t)=>{let s=C(I,e.__scopePopover),n=a.useRef(null),i=(0,l.s)(t,n),d=a.useRef(!1);return a.useEffect(()=>{let e=n.current;if(e)return(0,j.Eq)(e)},[]),(0,y.jsx)(g.A,{as:p.DX,allowPinchZoom:!0,children:(0,y.jsx)(T,{...e,ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,r.m)(e.onCloseAutoFocus,e=>{e.preventDefault(),d.current||s.triggerRef.current?.focus()}),onPointerDownOutside:(0,r.m)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,s=0===t.button&&!0===t.ctrlKey;d.current=2===t.button||s},{checkForDefaultPrevented:!1}),onFocusOutside:(0,r.m)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),$=a.forwardRef((e,t)=>{let s=C(I,e.__scopePopover),r=a.useRef(!1),l=a.useRef(!1);return(0,y.jsx)(T,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(r.current||s.triggerRef.current?.focus(),t.preventDefault()),r.current=!1,l.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(r.current=!0,"pointerdown"!==t.detail.originalEvent.type||(l.current=!0));let a=t.target;s.triggerRef.current?.contains(a)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&l.current&&t.preventDefault()}})}),T=a.forwardRef((e,t)=>{let{__scopePopover:s,trapFocus:a,onOpenAutoFocus:r,onCloseAutoFocus:l,disableOutsidePointerEvents:n,onEscapeKeyDown:c,onPointerDownOutside:m,onFocusOutside:x,onInteractOutside:h,...p}=e,v=C(I,s),j=w(s);return(0,d.Oh)(),(0,y.jsx)(o.n,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:r,onUnmountAutoFocus:l,children:(0,y.jsx)(i.qW,{asChild:!0,disableOutsidePointerEvents:n,onInteractOutside:h,onEscapeKeyDown:c,onPointerDownOutside:m,onFocusOutside:x,onDismiss:()=>v.onOpenChange(!1),children:(0,y.jsx)(u.UC,{"data-state":z(v.open),role:"dialog",id:v.contentId,...j,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),_="PopoverClose";function z(e){return e?"open":"closed"}a.forwardRef((e,t)=>{let{__scopePopover:s,...a}=e,l=C(_,s);return(0,y.jsx)(h.sG.button,{type:"button",...a,ref:t,onClick:(0,r.m)(e.onClick,()=>l.onOpenChange(!1))})}).displayName=_,a.forwardRef((e,t)=>{let{__scopePopover:s,...a}=e,r=w(s);return(0,y.jsx)(u.i3,{...r,...a,ref:t})}).displayName="PopoverArrow";var G=D,B=k,L=F,H=O},43649:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},60819:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>o});var a=s(65239),r=s(48088),l=s(88170),n=s.n(l),i=s(30893),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(t,d);let o={children:["",{children:["(app)",{children:["billing",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,87956)),"E:\\ineserp\\app\\(app)\\billing\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,71483)),"E:\\ineserp\\app\\(app)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,58014)),"E:\\ineserp\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["E:\\ineserp\\app\\(app)\\billing\\page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/(app)/billing/page",pathname:"/billing",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63143:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},69134:(e,t,s)=>{Promise.resolve().then(s.bind(s,85198))},71444:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]])},78148:(e,t,s)=>{"use strict";s.d(t,{b:()=>i});var a=s(43210),r=s(14163),l=s(60687),n=a.forwardRef((e,t)=>(0,l.jsx)(r.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var i=n},85198:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>$});var a=s(60687),r=s(43210),l=s(68631),n=s(24934),i=s(59821),d=s(68988),o=s(39390),c=s(63974),u=s(37826),m=s(55192),x=s(15616),h=s(56924),p=s(33135),v=s(96752),j=s(96474),g=s(40228),y=s(88233),f=s(10022),b=s(23928),N=s(23576),w=s(43649),A=s(99270),C=s(98492),D=s(31158),P=s(62688);let S=(0,P.A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var k=s(63143),E=s(71444);let M=(0,P.A)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var R=s(71702),F=s(20192),I=s(85650),O=s(96241);let q=[{id:"cust-1",name:"Smith Family",email:"john.smith@email.com",phone:"+1-555-0101",address:"123 Parent Ave, City, State 12345"},{id:"cust-2",name:"Johnson Family",email:"mary.johnson@email.com",phone:"+1-555-0102",address:"456 Student Rd, City, State 12345"},{id:"cust-3",name:"Brown Family",email:"david.brown@email.com",phone:"+1-555-0103",address:"789 Education Blvd, City, State 12345"},{id:"cust-4",name:"Wilson Family",email:"sarah.wilson@email.com",phone:"+1-555-0104",address:"321 Learning St, City, State 12345"},{id:"cust-5",name:"Davis Corporation",email:"billing@davis.com",phone:"+1-555-0105",address:"654 Business Park, City, State 12345"}];function $(){let[e,t]=(0,r.useState)([]),[s]=(0,r.useState)(q),[P,F]=(0,r.useState)(""),[$,T]=(0,r.useState)("all"),[_,z]=(0,r.useState)("all"),[G,B]=(0,r.useState)(!1),[L,H]=(0,r.useState)(!1),[V,J]=(0,r.useState)(!1),[Z,W]=(0,r.useState)(null),[U,X]=(0,r.useState)(null),[K,Q]=(0,r.useState)(!1),[Y,ee]=(0,r.useState)(),[et,es]=(0,r.useState)(),{toast:ea}=(0,R.dj)(),[er,el]=(0,r.useState)({type:"Invoice",customerName:"",customerEmail:"",customerAddress:"",issueDate:"",dueDate:"",taxRate:"10",notes:"",status:"Draft"}),[en,ei]=(0,r.useState)([{id:"1",description:"",quantity:1,unitPrice:0,total:0}]),ed=e=>{try{localStorage.setItem("billing-documents",JSON.stringify(e)),t(e)}catch(e){console.error("Error saving billing data:",e),ea({title:"Error",description:"Failed to save data",variant:"destructive"})}},eo=e=>{let t=Date.now(),s=Math.floor(1e3*Math.random());return`${"Invoice"===e?"INV":"Receipt"===e?"REC":"CN"}-${t}-${s}`},ec=()=>{let e=Date.now(),t=Math.floor(1e3*Math.random());return`BL-${e}-${t}`},eu=()=>{el({type:"Invoice",customerName:"",customerEmail:"",customerAddress:"",issueDate:"",dueDate:"",taxRate:"10",notes:"",status:"Draft"}),ei([{id:"1",description:"",quantity:1,unitPrice:0,total:0}]),ee(void 0),es(void 0)},em=(e,t)=>e*t,ex=()=>en.reduce((e,t)=>e+t.total,0),eh=(e,t)=>e*t/100,ep=(e,t)=>e+t,ev=(e,t,s)=>{let a=[...en];a[e]={...a[e],[t]:s},("quantity"===t||"unitPrice"===t)&&(a[e].total=em(a[e].quantity,a[e].unitPrice)),ei(a)},ej=e=>{en.length>1&&ei(en.filter((t,s)=>s!==e))},eg=t=>{ed(e.filter(e=>e.id!==t)),ea({title:"Success",description:"Document deleted successfully"})},ey=e=>{W(e),el({type:e.type,customerName:e.customerName,customerEmail:e.customerEmail,customerAddress:e.customerAddress,issueDate:e.issueDate,dueDate:e.dueDate,taxRate:e.taxRate.toString(),notes:e.notes,status:e.status}),ei(e.lineItems),ee(new Date(e.issueDate)),es(new Date(e.dueDate)),H(!0)},ef=e=>{X(e),J(!0)},eb=e=>{ea({title:"PDF Export",description:`${e.type} ${e.documentNumber} exported successfully`})},eN=t=>{let s={...t,status:"Sent"};ed(e.map(e=>e.id===t.id?s:e)),ea({title:"Email Sent",description:`${t.type} sent to ${t.customerEmail}`})},ew=e.filter(e=>{let t=e.customerName.toLowerCase().includes(P.toLowerCase())||e.documentNumber.toLowerCase().includes(P.toLowerCase())||e.notes.toLowerCase().includes(P.toLowerCase()),s="all"===$||e.type===$,a="all"===_||e.status===_;return t&&s&&a}),eA=e.filter(e=>"Invoice"===e.type).reduce((e,t)=>e+t.total,0),eC=e.reduce((e,t)=>e+t.paidAmount,0),eD=e.filter(e=>"Paid"!==e.status&&"Cancelled"!==e.status).reduce((e,t)=>e+(t.total-t.paidAmount),0),eP=e.filter(e=>"Overdue"===e.status).length,eS=({status:e})=>"Paid"===e?(0,a.jsx)(i.E,{className:"bg-[#32872e] text-white hover:bg-[#256a24]",children:"Paid"}):"Sent"===e?(0,a.jsx)(i.E,{className:"bg-blue-100 text-blue-800 hover:bg-blue-200",children:"Sent"}):"Draft"===e?(0,a.jsx)(i.E,{className:"bg-gray-100 text-gray-800 hover:bg-gray-200",children:"Draft"}):"Overdue"===e?(0,a.jsx)(i.E,{className:"bg-[#ef4444] text-white hover:bg-[#dc2626]",children:"Overdue"}):(0,a.jsx)(i.E,{className:"bg-red-100 text-red-800 hover:bg-red-200",children:"Cancelled"}),ek=({type:e})=>"Invoice"===e?(0,a.jsx)(i.E,{className:"bg-blue-100 text-blue-800 hover:bg-blue-200",children:"Invoice"}):"Receipt"===e?(0,a.jsx)(i.E,{className:"bg-green-100 text-green-800 hover:bg-green-200",children:"Receipt"}):(0,a.jsx)(i.E,{className:"bg-purple-100 text-purple-800 hover:bg-purple-200",children:"Credit Note"});return K?(0,a.jsxs)(l.P.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.25},className:"px-4 pb-8 pt-4 md:px-6",children:[(0,a.jsxs)("div",{className:"mb-6 flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-black",children:"Billing & Receipting"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Create and manage invoices, receipts, and billing documents"})]}),(0,a.jsxs)(u.lG,{open:G,onOpenChange:B,children:[(0,a.jsx)(u.zM,{asChild:!0,children:(0,a.jsxs)(n.$,{className:"bg-[#32872e] hover:bg-[#e0d722] hover:text-black text-white",children:[(0,a.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Create Invoice"]})}),(0,a.jsxs)(u.Cf,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)(u.c7,{children:(0,a.jsx)(u.L3,{children:"Create New Document"})}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{htmlFor:"type",children:"Document Type *"}),(0,a.jsxs)(c.l6,{value:er.type,onValueChange:e=>el({...er,type:e}),children:[(0,a.jsx)(c.bq,{children:(0,a.jsx)(c.yv,{placeholder:"Select type"})}),(0,a.jsxs)(c.gC,{children:[(0,a.jsx)(c.eb,{value:"Invoice",children:"Invoice"}),(0,a.jsx)(c.eb,{value:"Receipt",children:"Receipt"}),(0,a.jsx)(c.eb,{value:"Credit Note",children:"Credit Note"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{htmlFor:"status",children:"Status"}),(0,a.jsxs)(c.l6,{value:er.status,onValueChange:e=>el({...er,status:e}),children:[(0,a.jsx)(c.bq,{children:(0,a.jsx)(c.yv,{placeholder:"Select status"})}),(0,a.jsxs)(c.gC,{children:[(0,a.jsx)(c.eb,{value:"Draft",children:"Draft"}),(0,a.jsx)(c.eb,{value:"Sent",children:"Sent"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{htmlFor:"customerName",children:"Customer *"}),(0,a.jsxs)(c.l6,{value:er.customerName,onValueChange:e=>{let t=s.find(t=>t.name===e);t&&el({...er,customerName:t.name,customerEmail:t.email,customerAddress:t.address})},children:[(0,a.jsx)(c.bq,{children:(0,a.jsx)(c.yv,{placeholder:"Select customer"})}),(0,a.jsx)(c.gC,{children:s.map(e=>(0,a.jsx)(c.eb,{value:e.name,children:e.name},e.id))})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{htmlFor:"customerEmail",children:"Customer Email"}),(0,a.jsx)(d.p,{id:"customerEmail",value:er.customerEmail,onChange:e=>el({...er,customerEmail:e.target.value}),placeholder:"customer@email.com"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{htmlFor:"taxRate",children:"Tax Rate (%)"}),(0,a.jsx)(d.p,{id:"taxRate",type:"number",step:"0.01",value:er.taxRate,onChange:e=>el({...er,taxRate:e.target.value}),placeholder:"10"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{htmlFor:"customerAddress",children:"Customer Address"}),(0,a.jsx)(x.T,{id:"customerAddress",value:er.customerAddress,onChange:e=>el({...er,customerAddress:e.target.value}),placeholder:"Customer address"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{children:"Issue Date *"}),(0,a.jsxs)(p.AM,{children:[(0,a.jsx)(p.Wv,{asChild:!0,children:(0,a.jsxs)(n.$,{variant:"outline",className:(0,O.cn)("w-full justify-start text-left font-normal",!Y&&"text-muted-foreground"),children:[(0,a.jsx)(g.A,{className:"mr-2 h-4 w-4"}),Y?(0,I.GP)(Y,"PPP"):(0,a.jsx)("span",{children:"Pick issue date"})]})}),(0,a.jsx)(p.hl,{className:"w-auto p-0",children:(0,a.jsx)(h.V,{mode:"single",selected:Y,onSelect:e=>{ee(e),el({...er,issueDate:e?(0,I.GP)(e,"yyyy-MM-dd"):""})},initialFocus:!0})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{children:"Due Date *"}),(0,a.jsxs)(p.AM,{children:[(0,a.jsx)(p.Wv,{asChild:!0,children:(0,a.jsxs)(n.$,{variant:"outline",className:(0,O.cn)("w-full justify-start text-left font-normal",!et&&"text-muted-foreground"),children:[(0,a.jsx)(g.A,{className:"mr-2 h-4 w-4"}),et?(0,I.GP)(et,"PPP"):(0,a.jsx)("span",{children:"Pick due date"})]})}),(0,a.jsx)(p.hl,{className:"w-auto p-0",children:(0,a.jsx)(h.V,{mode:"single",selected:et,onSelect:e=>{es(e),el({...er,dueDate:e?(0,I.GP)(e,"yyyy-MM-dd"):""})},initialFocus:!0})})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(o.J,{className:"text-base font-medium",children:"Line Items"}),(0,a.jsxs)(n.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{let e=(en.length+1).toString();ei([...en,{id:e,description:"",quantity:1,unitPrice:0,total:0}])},children:[(0,a.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Add Item"]})]}),(0,a.jsx)("div",{className:"space-y-2",children:en.map((e,t)=>(0,a.jsxs)("div",{className:"grid grid-cols-12 gap-2 items-end",children:[(0,a.jsx)("div",{className:"col-span-5",children:(0,a.jsx)(d.p,{placeholder:"Description",value:e.description,onChange:e=>ev(t,"description",e.target.value)})}),(0,a.jsx)("div",{className:"col-span-2",children:(0,a.jsx)(d.p,{type:"number",placeholder:"Qty",value:e.quantity,onChange:e=>ev(t,"quantity",parseInt(e.target.value)||0)})}),(0,a.jsx)("div",{className:"col-span-2",children:(0,a.jsx)(d.p,{type:"number",step:"0.01",placeholder:"Price",value:e.unitPrice,onChange:e=>ev(t,"unitPrice",parseFloat(e.target.value)||0)})}),(0,a.jsx)("div",{className:"col-span-2",children:(0,a.jsx)(d.p,{value:`$${e.total.toFixed(2)}`,readOnly:!0,className:"bg-gray-50"})}),(0,a.jsx)("div",{className:"col-span-1",children:(0,a.jsx)(n.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>ej(t),disabled:1===en.length,className:"h-10 w-10 p-0",children:(0,a.jsx)(y.A,{className:"h-4 w-4"})})})]},e.id))}),(0,a.jsxs)("div",{className:"border-t pt-4 space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Subtotal:"}),(0,a.jsxs)("span",{children:["$",ex().toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("span",{children:["Tax (",er.taxRate,"%):"]}),(0,a.jsxs)("span",{children:["$",eh(ex(),parseFloat(er.taxRate)||0).toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between font-bold text-lg",children:[(0,a.jsx)("span",{children:"Total:"}),(0,a.jsxs)("span",{children:["$",ep(ex(),eh(ex(),parseFloat(er.taxRate)||0)).toFixed(2)]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{htmlFor:"notes",children:"Notes"}),(0,a.jsx)(x.T,{id:"notes",value:er.notes,onChange:e=>el({...er,notes:e.target.value}),placeholder:"Additional notes"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(n.$,{variant:"outline",onClick:()=>B(!1),children:"Cancel"}),(0,a.jsx)(n.$,{onClick:()=>{if(!er.customerName||!er.issueDate||!er.dueDate){ea({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}let t=en.filter(e=>""!==e.description.trim());if(0===t.length){ea({title:"Error",description:"Please add at least one line item",variant:"destructive"});return}let s=ex(),a=parseFloat(er.taxRate)||0,r=eh(s,a),l=ep(s,r);ed([...e,{id:ec(),documentNumber:eo(er.type),type:er.type,customerName:er.customerName,customerEmail:er.customerEmail,customerAddress:er.customerAddress,issueDate:er.issueDate,dueDate:er.dueDate,subtotal:s,taxRate:a,taxAmount:r,total:l,paidAmount:0,status:er.status,notes:er.notes,lineItems:t,createdAt:new Date().toISOString()}]),eu(),B(!1),ea({title:"Success",description:`${er.type} created successfully`})},className:"bg-[#32872e] hover:bg-[#256a24] text-white",children:"Create Document"})]})]})]})]}),(0,a.jsxs)("div",{className:"mb-6 grid gap-4 md:grid-cols-4",children:[(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(m.ZB,{className:"text-sm font-medium",children:"Total Invoiced"}),(0,a.jsx)(f.A,{className:"h-4 w-4 text-blue-600"})]}),(0,a.jsxs)(m.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(0,O.v)(eA,{minimumFractionDigits:2})}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"All invoices issued"})]})]}),(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(m.ZB,{className:"text-sm font-medium",children:"Total Paid"}),(0,a.jsx)(b.A,{className:"h-4 w-4 text-green-600"})]}),(0,a.jsxs)(m.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(0,O.v)(eC,{minimumFractionDigits:2})}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Payments received"})]})]}),(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(m.ZB,{className:"text-sm font-medium",children:"Outstanding"}),(0,a.jsx)(N.A,{className:"h-4 w-4 text-yellow-600"})]}),(0,a.jsxs)(m.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:(0,O.v)(eD,{minimumFractionDigits:2})}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Awaiting payment"})]})]}),(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(m.ZB,{className:"text-sm font-medium",children:"Overdue"}),(0,a.jsx)(w.A,{className:"h-4 w-4 text-red-500"})]}),(0,a.jsxs)(m.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:eP}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Past due invoices"})]})]})]}),(0,a.jsxs)("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-1 items-center gap-4",children:[(0,a.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,a.jsx)(A.A,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),(0,a.jsx)(d.p,{placeholder:"Search documents...",value:P,onChange:e=>F(e.target.value),className:"pl-10"})]}),(0,a.jsxs)(c.l6,{value:$,onValueChange:T,children:[(0,a.jsxs)(c.bq,{className:"w-[140px]",children:[(0,a.jsx)(C.A,{className:"mr-2 h-4 w-4"}),(0,a.jsx)(c.yv,{placeholder:"Type"})]}),(0,a.jsxs)(c.gC,{children:[(0,a.jsx)(c.eb,{value:"all",children:"All Types"}),(0,a.jsx)(c.eb,{value:"Invoice",children:"Invoices"}),(0,a.jsx)(c.eb,{value:"Receipt",children:"Receipts"}),(0,a.jsx)(c.eb,{value:"Credit Note",children:"Credit Notes"})]})]}),(0,a.jsxs)(c.l6,{value:_,onValueChange:z,children:[(0,a.jsx)(c.bq,{className:"w-[150px]",children:(0,a.jsx)(c.yv,{placeholder:"Status"})}),(0,a.jsxs)(c.gC,{children:[(0,a.jsx)(c.eb,{value:"all",children:"All Status"}),(0,a.jsx)(c.eb,{value:"Draft",children:"Draft"}),(0,a.jsx)(c.eb,{value:"Sent",children:"Sent"}),(0,a.jsx)(c.eb,{value:"Paid",children:"Paid"}),(0,a.jsx)(c.eb,{value:"Overdue",children:"Overdue"}),(0,a.jsx)(c.eb,{value:"Cancelled",children:"Cancelled"})]})]})]}),(0,a.jsxs)(n.$,{variant:"outline",className:"gap-2",children:[(0,a.jsx)(D.A,{className:"h-4 w-4"}),"Export"]})]}),(0,a.jsx)("div",{className:"rounded-lg border bg-white shadow-sm",children:(0,a.jsx)("div",{className:"max-w-full overflow-x-auto",children:(0,a.jsxs)(v.XI,{children:[(0,a.jsx)(v.A0,{children:(0,a.jsxs)(v.Hj,{children:[(0,a.jsx)(v.nd,{className:"min-w-[120px]",children:"Document #"}),(0,a.jsx)(v.nd,{className:"min-w-[100px]",children:"Type"}),(0,a.jsx)(v.nd,{className:"min-w-[180px]",children:"Customer"}),(0,a.jsx)(v.nd,{className:"min-w-[120px]",children:"Issue Date"}),(0,a.jsx)(v.nd,{className:"min-w-[120px]",children:"Due Date"}),(0,a.jsx)(v.nd,{className:"min-w-[120px]",children:"Total"}),(0,a.jsx)(v.nd,{className:"min-w-[120px]",children:"Paid"}),(0,a.jsx)(v.nd,{className:"min-w-[120px]",children:"Balance"}),(0,a.jsx)(v.nd,{className:"min-w-[120px]",children:"Status"}),(0,a.jsx)(v.nd,{className:"min-w-[150px]",children:"Actions"})]})}),(0,a.jsx)(v.BF,{children:0===ew.length?(0,a.jsx)(v.Hj,{children:(0,a.jsx)(v.nA,{colSpan:10,className:"text-center py-8 text-gray-500",children:"No documents found"})}):ew.map(e=>{let t=e.total-e.paidAmount;return(0,a.jsxs)(v.Hj,{className:"hover:bg-[#f0f1f2]",children:[(0,a.jsx)(v.nA,{className:"font-medium",children:e.documentNumber}),(0,a.jsx)(v.nA,{children:(0,a.jsx)(ek,{type:e.type})}),(0,a.jsx)(v.nA,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.customerName}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.customerEmail})]})}),(0,a.jsx)(v.nA,{children:(0,I.GP)(new Date(e.issueDate),"MMM dd, yyyy")}),(0,a.jsx)(v.nA,{children:(0,I.GP)(new Date(e.dueDate),"MMM dd, yyyy")}),(0,a.jsx)(v.nA,{children:(0,a.jsx)("div",{className:"font-medium",children:(0,O.v)(e.total)})}),(0,a.jsxs)(v.nA,{children:[(0,a.jsx)("div",{className:"font-medium",children:(0,O.v)(e.paidAmount)}),e.paymentDate&&(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Paid: ",(0,I.GP)(new Date(e.paymentDate),"MMM dd")]})]}),(0,a.jsx)(v.nA,{children:(0,a.jsx)("div",{className:`font-medium ${t>0?"text-red-600":"text-gray-500"}`,children:(0,O.v)(t)})}),(0,a.jsx)(v.nA,{children:(0,a.jsx)(eS,{status:e.status})}),(0,a.jsx)(v.nA,{children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>ef(e),className:"h-8 w-8 p-0",title:"View",children:(0,a.jsx)(S,{className:"h-4 w-4"})}),(0,a.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>ey(e),className:"h-8 w-8 p-0",title:"Edit",children:(0,a.jsx)(k.A,{className:"h-4 w-4"})}),(0,a.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>eb(e),className:"h-8 w-8 p-0",title:"Export PDF",children:(0,a.jsx)(E.A,{className:"h-4 w-4"})}),"Draft"===e.status&&(0,a.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>eN(e),className:"h-8 w-8 p-0",title:"Send",children:(0,a.jsx)(M,{className:"h-4 w-4"})}),(0,a.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>eg(e.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",title:"Delete",children:(0,a.jsx)(y.A,{className:"h-4 w-4"})})]})})]},e.id)})})]})})})]}):null}new Date().toISOString().split("T")[0],(0,F.f)(new Date,30).toISOString().split("T")[0],new Date(Date.now()-1728e5).toISOString().split("T")[0],new Date().toISOString(),new Date().toISOString().split("T")[0],(0,F.f)(new Date,15).toISOString().split("T")[0],new Date().toISOString(),new Date(Date.now()-3888e6).toISOString().split("T")[0],new Date(Date.now()-1296e6).toISOString().split("T")[0],new Date().toISOString()},87956:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"E:\\\\ineserp\\\\app\\\\(app)\\\\billing\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\ineserp\\app\\(app)\\billing\\page.tsx","default")},88233:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},96474:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},98492:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},99270:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},99398:(e,t,s)=>{Promise.resolve().then(s.bind(s,87956))}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[6516,67,2098,8086,9615,6354,6429,7792],()=>s(60819));module.exports=a})();