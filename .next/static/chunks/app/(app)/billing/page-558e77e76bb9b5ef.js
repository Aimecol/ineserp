(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3067],{1243:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},1482:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},13717:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},28905:(e,t,s)=>{"use strict";s.d(t,{C:()=>i});var a=s(12115),n=s(6101),r=s(52712),i=e=>{let{present:t,children:s}=e,i=function(e){var t,s;let[n,i]=a.useState(),d=a.useRef({}),c=a.useRef(e),o=a.useRef("none"),[u,m]=(t=e?"mounted":"unmounted",s={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},a.useReducer((e,t)=>{let a=s[e][t];return null!=a?a:e},t));return a.useEffect(()=>{let e=l(d.current);o.current="mounted"===u?e:"none"},[u]),(0,r.N)(()=>{let t=d.current,s=c.current;if(s!==e){let a=o.current,n=l(t);e?m("MOUNT"):"none"===n||(null==t?void 0:t.display)==="none"?m("UNMOUNT"):s&&a!==n?m("ANIMATION_OUT"):m("UNMOUNT"),c.current=e}},[e,m]),(0,r.N)(()=>{if(n){var e;let t;let s=null!==(e=n.ownerDocument.defaultView)&&void 0!==e?e:window,a=e=>{let a=l(d.current).includes(e.animationName);if(e.target===n&&a&&(m("ANIMATION_END"),!c.current)){let e=n.style.animationFillMode;n.style.animationFillMode="forwards",t=s.setTimeout(()=>{"forwards"===n.style.animationFillMode&&(n.style.animationFillMode=e)})}},r=e=>{e.target===n&&(o.current=l(d.current))};return n.addEventListener("animationstart",r),n.addEventListener("animationcancel",a),n.addEventListener("animationend",a),()=>{s.clearTimeout(t),n.removeEventListener("animationstart",r),n.removeEventListener("animationcancel",a),n.removeEventListener("animationend",a)}}m("ANIMATION_END")},[n,m]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:a.useCallback(e=>{e&&(d.current=getComputedStyle(e)),i(e)},[])}}(t),d="function"==typeof s?s({present:i.isPresent}):a.Children.only(s),c=(0,n.s)(i.ref,function(e){var t,s;let a=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,n=a&&"isReactWarning"in a&&a.isReactWarning;return n?e.ref:(n=(a=null===(s=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===s?void 0:s.get)&&"isReactWarning"in a&&a.isReactWarning)?e.props.ref:e.props.ref||e.ref}(d));return"function"==typeof s||i.isPresent?a.cloneElement(d,{ref:c}):null};function l(e){return(null==e?void 0:e.animationName)||"none"}i.displayName="Presence"},36894:(e,t,s)=>{"use strict";s.d(t,{V:()=>p});var a=s(15933),n=s(95155),r=s(12115),i=s(42355),l=s(13052),d=s(66474),c=s(50713),o=s(25003),u=s(53999),m=s(97168);function x(){let e=(0,a._)(["rtl:**:[.rdp-button_next>svg]:rotate-180"],["rtl:**:[.rdp-button\\_next>svg]:rotate-180"]);return x=function(){return e},e}function h(){let e=(0,a._)(["rtl:**:[.rdp-button_previous>svg]:rotate-180"],["rtl:**:[.rdp-button\\_previous>svg]:rotate-180"]);return h=function(){return e},e}function p(e){let{className:t,classNames:s,showOutsideDays:a=!0,captionLayout:r="label",buttonVariant:p="ghost",formatters:v,components:j,...y}=e,f=(0,c.a)();return(0,n.jsx)(o.h,{showOutsideDays:a,className:(0,u.cn)("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw(x()),String.raw(h()),t),captionLayout:r,formatters:{formatMonthDropdown:e=>e.toLocaleString("default",{month:"short"}),...v},classNames:{root:(0,u.cn)("w-fit",f.root),months:(0,u.cn)("flex gap-4 flex-col md:flex-row relative",f.months),month:(0,u.cn)("flex flex-col w-full gap-4",f.month),nav:(0,u.cn)("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",f.nav),button_previous:(0,u.cn)((0,m.r)({variant:p}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",f.button_previous),button_next:(0,u.cn)((0,m.r)({variant:p}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",f.button_next),month_caption:(0,u.cn)("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",f.month_caption),dropdowns:(0,u.cn)("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",f.dropdowns),dropdown_root:(0,u.cn)("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",f.dropdown_root),dropdown:(0,u.cn)("absolute bg-popover inset-0 opacity-0",f.dropdown),caption_label:(0,u.cn)("select-none font-medium","label"===r?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",f.caption_label),table:"w-full border-collapse",weekdays:(0,u.cn)("flex",f.weekdays),weekday:(0,u.cn)("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",f.weekday),week:(0,u.cn)("flex w-full mt-2",f.week),week_number_header:(0,u.cn)("select-none w-(--cell-size)",f.week_number_header),week_number:(0,u.cn)("text-[0.8rem] select-none text-muted-foreground",f.week_number),day:(0,u.cn)("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",f.day),range_start:(0,u.cn)("rounded-l-md bg-accent",f.range_start),range_middle:(0,u.cn)("rounded-none",f.range_middle),range_end:(0,u.cn)("rounded-r-md bg-accent",f.range_end),today:(0,u.cn)("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",f.today),outside:(0,u.cn)("text-muted-foreground aria-selected:text-muted-foreground",f.outside),disabled:(0,u.cn)("text-muted-foreground opacity-50",f.disabled),hidden:(0,u.cn)("invisible",f.hidden),...s},components:{Root:e=>{let{className:t,rootRef:s,...a}=e;return(0,n.jsx)("div",{"data-slot":"calendar",ref:s,className:(0,u.cn)(t),...a})},Chevron:e=>{let{className:t,orientation:s,...a}=e;return"left"===s?(0,n.jsx)(i.A,{className:(0,u.cn)("size-4",t),...a}):"right"===s?(0,n.jsx)(l.A,{className:(0,u.cn)("size-4",t),...a}):(0,n.jsx)(d.A,{className:(0,u.cn)("size-4",t),...a})},DayButton:g,WeekNumber:e=>{let{children:t,...s}=e;return(0,n.jsx)("td",{...s,children:(0,n.jsx)("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:t})})},...j},...y})}function g(e){let{className:t,day:s,modifiers:a,...i}=e,l=(0,c.a)(),d=r.useRef(null);return r.useEffect(()=>{var e;a.focused&&(null===(e=d.current)||void 0===e||e.focus())},[a.focused]),(0,n.jsx)(m.$,{ref:d,variant:"ghost",size:"icon","data-day":s.date.toLocaleDateString(),"data-selected-single":a.selected&&!a.range_start&&!a.range_end&&!a.range_middle,"data-range-start":a.range_start,"data-range-end":a.range_end,"data-range-middle":a.range_middle,className:(0,u.cn)("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",l.day,t),...i})}},46308:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]])},47924:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},53580:(e,t,s)=>{"use strict";s.d(t,{dj:()=>m});var a=s(12115);let n=0,r=new Map,i=e=>{if(r.has(e))return;let t=setTimeout(()=>{r.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?i(s):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],c={toasts:[]};function o(e){c=l(c,e),d.forEach(e=>{e(c)})}function u(e){let{...t}=e,s=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>o({type:"DISMISS_TOAST",toastId:s});return o({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function m(){let[e,t]=a.useState(c);return a.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}},55868:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},57434:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},60823:(e,t,s)=>{"use strict";s.d(t,{AM:()=>i,Wv:()=>l,hl:()=>d});var a=s(95155);s(12115);var n=s(20547),r=s(53999);function i(e){let{...t}=e;return(0,a.jsx)(n.bL,{"data-slot":"popover",...t})}function l(e){let{...t}=e;return(0,a.jsx)(n.l9,{"data-slot":"popover-trigger",...t})}function d(e){let{className:t,align:s="center",sideOffset:i=4,...l}=e;return(0,a.jsx)(n.ZL,{children:(0,a.jsx)(n.UC,{"data-slot":"popover-content",align:s,sideOffset:i,className:(0,r.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...l})})}},62525:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},78259:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>z});var a=s(95155),n=s(12115),r=s(52900),i=s(97168),l=s(88145),d=s(89852),c=s(82714),o=s(95784),u=s(99840),m=s(88482),x=s(99474),h=s(36894),p=s(60823),g=s(88524),v=s(84616),j=s(69074),y=s(62525),f=s(57434),N=s(55868),b=s(46308),w=s(1243),A=s(47924),S=s(1482),D=s(91788),C=s(19946);let k=(0,C.A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var M=s(13717),E=s(81304);let T=(0,C.A)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var I=s(53580),_=s(40714),P=s(63008),O=s(53999);let R=[{id:"cust-1",name:"Smith Family",email:"john.smith@email.com",phone:"+1-555-0101",address:"123 Parent Ave, City, State 12345"},{id:"cust-2",name:"Johnson Family",email:"mary.johnson@email.com",phone:"+1-555-0102",address:"456 Student Rd, City, State 12345"},{id:"cust-3",name:"Brown Family",email:"david.brown@email.com",phone:"+1-555-0103",address:"789 Education Blvd, City, State 12345"},{id:"cust-4",name:"Wilson Family",email:"sarah.wilson@email.com",phone:"+1-555-0104",address:"321 Learning St, City, State 12345"},{id:"cust-5",name:"Davis Corporation",email:"billing@davis.com",phone:"+1-555-0105",address:"654 Business Park, City, State 12345"}],F=[{id:"BL-9001",documentNumber:"INV-4492",type:"Invoice",customerName:"Smith Family",customerEmail:"john.smith@email.com",customerAddress:"123 Parent Ave, City, State 12345",issueDate:new Date().toISOString().split("T")[0],dueDate:(0,_.f)(new Date,30).toISOString().split("T")[0],subtotal:1363.64,taxRate:10,taxAmount:136.36,total:1500,paidAmount:1500,status:"Paid",notes:"Q1 Tuition fees",lineItems:[{id:"li-1",description:"Tuition Fee - Q1",quantity:1,unitPrice:1200,total:1200},{id:"li-2",description:"Activity Fee",quantity:1,unitPrice:163.64,total:163.64}],paymentMethod:"Bank Transfer",paymentDate:new Date(Date.now()-1728e5).toISOString().split("T")[0],createdAt:new Date().toISOString()},{id:"BL-9002",documentNumber:"INV-4493",type:"Invoice",customerName:"Johnson Family",customerEmail:"mary.johnson@email.com",customerAddress:"456 Student Rd, City, State 12345",issueDate:new Date().toISOString().split("T")[0],dueDate:(0,_.f)(new Date,15).toISOString().split("T")[0],subtotal:890.91,taxRate:10,taxAmount:89.09,total:980,paidAmount:0,status:"Sent",notes:"Monthly fees",lineItems:[{id:"li-3",description:"Monthly Tuition",quantity:1,unitPrice:800,total:800},{id:"li-4",description:"Lab Fee",quantity:1,unitPrice:90.91,total:90.91}],createdAt:new Date().toISOString()},{id:"BL-9003",documentNumber:"INV-4494",type:"Invoice",customerName:"Brown Family",customerEmail:"david.brown@email.com",customerAddress:"789 Education Blvd, City, State 12345",issueDate:new Date(Date.now()-3888e6).toISOString().split("T")[0],dueDate:new Date(Date.now()-1296e6).toISOString().split("T")[0],subtotal:1909.09,taxRate:10,taxAmount:190.91,total:2100,paidAmount:0,status:"Overdue",notes:"Semester fees",lineItems:[{id:"li-5",description:"Semester Tuition",quantity:1,unitPrice:1800,total:1800},{id:"li-6",description:"Technology Fee",quantity:1,unitPrice:109.09,total:109.09}],createdAt:new Date().toISOString()}];function z(){let[e,t]=(0,n.useState)([]),[s]=(0,n.useState)(R),[C,_]=(0,n.useState)(""),[z,q]=(0,n.useState)("all"),[L,V]=(0,n.useState)("all"),[B,$]=(0,n.useState)(!1),[J,H]=(0,n.useState)(!1),[U,W]=(0,n.useState)(!1),[Z,G]=(0,n.useState)(null),[Q,X]=(0,n.useState)(null),[K,Y]=(0,n.useState)(!1),[ee,et]=(0,n.useState)(),[es,ea]=(0,n.useState)(),{toast:en}=(0,I.dj)(),[er,ei]=(0,n.useState)({type:"Invoice",customerName:"",customerEmail:"",customerAddress:"",issueDate:"",dueDate:"",taxRate:"10",notes:"",status:"Draft"}),[el,ed]=(0,n.useState)([{id:"1",description:"",quantity:1,unitPrice:0,total:0}]);(0,n.useEffect)(()=>{Y(!0),ec()},[]);let ec=()=>{try{let e=localStorage.getItem("billing-documents");e?t(JSON.parse(e)):(t(F),localStorage.setItem("billing-documents",JSON.stringify(F)))}catch(e){console.error("Error loading billing data:",e),t(F)}},eo=e=>{try{localStorage.setItem("billing-documents",JSON.stringify(e)),t(e)}catch(e){console.error("Error saving billing data:",e),en({title:"Error",description:"Failed to save data",variant:"destructive"})}},eu=e=>{let t=Date.now(),s=Math.floor(1e3*Math.random());return"".concat("Invoice"===e?"INV":"Receipt"===e?"REC":"CN","-").concat(t,"-").concat(s)},em=()=>{let e=Date.now(),t=Math.floor(1e3*Math.random());return"BL-".concat(e,"-").concat(t)},ex=()=>{ei({type:"Invoice",customerName:"",customerEmail:"",customerAddress:"",issueDate:"",dueDate:"",taxRate:"10",notes:"",status:"Draft"}),ed([{id:"1",description:"",quantity:1,unitPrice:0,total:0}]),et(void 0),ea(void 0)},eh=(e,t)=>e*t,ep=()=>el.reduce((e,t)=>e+t.total,0),eg=(e,t)=>e*t/100,ev=(e,t)=>e+t,ej=(e,t,s)=>{let a=[...el];a[e]={...a[e],[t]:s},("quantity"===t||"unitPrice"===t)&&(a[e].total=eh(a[e].quantity,a[e].unitPrice)),ed(a)},ey=e=>{el.length>1&&ed(el.filter((t,s)=>s!==e))},ef=t=>{eo(e.filter(e=>e.id!==t)),en({title:"Success",description:"Document deleted successfully"})},eN=e=>{G(e),ei({type:e.type,customerName:e.customerName,customerEmail:e.customerEmail,customerAddress:e.customerAddress,issueDate:e.issueDate,dueDate:e.dueDate,taxRate:e.taxRate.toString(),notes:e.notes,status:e.status}),ed(e.lineItems),et(new Date(e.issueDate)),ea(new Date(e.dueDate)),H(!0)},eb=e=>{X(e),W(!0)},ew=e=>{en({title:"PDF Export",description:"".concat(e.type," ").concat(e.documentNumber," exported successfully")})},eA=t=>{let s={...t,status:"Sent"};eo(e.map(e=>e.id===t.id?s:e)),en({title:"Email Sent",description:"".concat(t.type," sent to ").concat(t.customerEmail)})},eS=e.filter(e=>{let t=e.customerName.toLowerCase().includes(C.toLowerCase())||e.documentNumber.toLowerCase().includes(C.toLowerCase())||e.notes.toLowerCase().includes(C.toLowerCase()),s="all"===z||e.type===z,a="all"===L||e.status===L;return t&&s&&a}),eD=e.filter(e=>"Invoice"===e.type).reduce((e,t)=>e+t.total,0),eC=e.reduce((e,t)=>e+t.paidAmount,0),ek=e.filter(e=>"Paid"!==e.status&&"Cancelled"!==e.status).reduce((e,t)=>e+(t.total-t.paidAmount),0),eM=e.filter(e=>"Overdue"===e.status).length,eE=e=>{let{status:t}=e;return"Paid"===t?(0,a.jsx)(l.E,{className:"bg-[#32872e] text-white hover:bg-[#256a24]",children:"Paid"}):"Sent"===t?(0,a.jsx)(l.E,{className:"bg-blue-100 text-blue-800 hover:bg-blue-200",children:"Sent"}):"Draft"===t?(0,a.jsx)(l.E,{className:"bg-gray-100 text-gray-800 hover:bg-gray-200",children:"Draft"}):"Overdue"===t?(0,a.jsx)(l.E,{className:"bg-[#ef4444] text-white hover:bg-[#dc2626]",children:"Overdue"}):(0,a.jsx)(l.E,{className:"bg-red-100 text-red-800 hover:bg-red-200",children:"Cancelled"})},eT=e=>{let{type:t}=e;return"Invoice"===t?(0,a.jsx)(l.E,{className:"bg-blue-100 text-blue-800 hover:bg-blue-200",children:"Invoice"}):"Receipt"===t?(0,a.jsx)(l.E,{className:"bg-green-100 text-green-800 hover:bg-green-200",children:"Receipt"}):(0,a.jsx)(l.E,{className:"bg-purple-100 text-purple-800 hover:bg-purple-200",children:"Credit Note"})};return K?(0,a.jsxs)(r.P.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.25},className:"px-4 pb-8 pt-4 md:px-6",children:[(0,a.jsxs)("div",{className:"mb-6 flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-black",children:"Billing & Receipting"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Create and manage invoices, receipts, and billing documents"})]}),(0,a.jsxs)(u.lG,{open:B,onOpenChange:$,children:[(0,a.jsx)(u.zM,{asChild:!0,children:(0,a.jsxs)(i.$,{className:"bg-[#32872e] hover:bg-[#e0d722] hover:text-black text-white",children:[(0,a.jsx)(v.A,{className:"mr-2 h-4 w-4"}),"Create Invoice"]})}),(0,a.jsxs)(u.Cf,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)(u.c7,{children:(0,a.jsx)(u.L3,{children:"Create New Document"})}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{htmlFor:"type",children:"Document Type *"}),(0,a.jsxs)(o.l6,{value:er.type,onValueChange:e=>ei({...er,type:e}),children:[(0,a.jsx)(o.bq,{children:(0,a.jsx)(o.yv,{placeholder:"Select type"})}),(0,a.jsxs)(o.gC,{children:[(0,a.jsx)(o.eb,{value:"Invoice",children:"Invoice"}),(0,a.jsx)(o.eb,{value:"Receipt",children:"Receipt"}),(0,a.jsx)(o.eb,{value:"Credit Note",children:"Credit Note"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{htmlFor:"status",children:"Status"}),(0,a.jsxs)(o.l6,{value:er.status,onValueChange:e=>ei({...er,status:e}),children:[(0,a.jsx)(o.bq,{children:(0,a.jsx)(o.yv,{placeholder:"Select status"})}),(0,a.jsxs)(o.gC,{children:[(0,a.jsx)(o.eb,{value:"Draft",children:"Draft"}),(0,a.jsx)(o.eb,{value:"Sent",children:"Sent"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{htmlFor:"customerName",children:"Customer *"}),(0,a.jsxs)(o.l6,{value:er.customerName,onValueChange:e=>{let t=s.find(t=>t.name===e);t&&ei({...er,customerName:t.name,customerEmail:t.email,customerAddress:t.address})},children:[(0,a.jsx)(o.bq,{children:(0,a.jsx)(o.yv,{placeholder:"Select customer"})}),(0,a.jsx)(o.gC,{children:s.map(e=>(0,a.jsx)(o.eb,{value:e.name,children:e.name},e.id))})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{htmlFor:"customerEmail",children:"Customer Email"}),(0,a.jsx)(d.p,{id:"customerEmail",value:er.customerEmail,onChange:e=>ei({...er,customerEmail:e.target.value}),placeholder:"customer@email.com"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{htmlFor:"taxRate",children:"Tax Rate (%)"}),(0,a.jsx)(d.p,{id:"taxRate",type:"number",step:"0.01",value:er.taxRate,onChange:e=>ei({...er,taxRate:e.target.value}),placeholder:"10"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{htmlFor:"customerAddress",children:"Customer Address"}),(0,a.jsx)(x.T,{id:"customerAddress",value:er.customerAddress,onChange:e=>ei({...er,customerAddress:e.target.value}),placeholder:"Customer address"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{children:"Issue Date *"}),(0,a.jsxs)(p.AM,{children:[(0,a.jsx)(p.Wv,{asChild:!0,children:(0,a.jsxs)(i.$,{variant:"outline",className:(0,O.cn)("w-full justify-start text-left font-normal",!ee&&"text-muted-foreground"),children:[(0,a.jsx)(j.A,{className:"mr-2 h-4 w-4"}),ee?(0,P.GP)(ee,"PPP"):(0,a.jsx)("span",{children:"Pick issue date"})]})}),(0,a.jsx)(p.hl,{className:"w-auto p-0",children:(0,a.jsx)(h.V,{mode:"single",selected:ee,onSelect:e=>{et(e),ei({...er,issueDate:e?(0,P.GP)(e,"yyyy-MM-dd"):""})},initialFocus:!0})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{children:"Due Date *"}),(0,a.jsxs)(p.AM,{children:[(0,a.jsx)(p.Wv,{asChild:!0,children:(0,a.jsxs)(i.$,{variant:"outline",className:(0,O.cn)("w-full justify-start text-left font-normal",!es&&"text-muted-foreground"),children:[(0,a.jsx)(j.A,{className:"mr-2 h-4 w-4"}),es?(0,P.GP)(es,"PPP"):(0,a.jsx)("span",{children:"Pick due date"})]})}),(0,a.jsx)(p.hl,{className:"w-auto p-0",children:(0,a.jsx)(h.V,{mode:"single",selected:es,onSelect:e=>{ea(e),ei({...er,dueDate:e?(0,P.GP)(e,"yyyy-MM-dd"):""})},initialFocus:!0})})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(c.J,{className:"text-base font-medium",children:"Line Items"}),(0,a.jsxs)(i.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{let e=(el.length+1).toString();ed([...el,{id:e,description:"",quantity:1,unitPrice:0,total:0}])},children:[(0,a.jsx)(v.A,{className:"mr-2 h-4 w-4"}),"Add Item"]})]}),(0,a.jsx)("div",{className:"space-y-2",children:el.map((e,t)=>(0,a.jsxs)("div",{className:"grid grid-cols-12 gap-2 items-end",children:[(0,a.jsx)("div",{className:"col-span-5",children:(0,a.jsx)(d.p,{placeholder:"Description",value:e.description,onChange:e=>ej(t,"description",e.target.value)})}),(0,a.jsx)("div",{className:"col-span-2",children:(0,a.jsx)(d.p,{type:"number",placeholder:"Qty",value:e.quantity,onChange:e=>ej(t,"quantity",parseInt(e.target.value)||0)})}),(0,a.jsx)("div",{className:"col-span-2",children:(0,a.jsx)(d.p,{type:"number",step:"0.01",placeholder:"Price",value:e.unitPrice,onChange:e=>ej(t,"unitPrice",parseFloat(e.target.value)||0)})}),(0,a.jsx)("div",{className:"col-span-2",children:(0,a.jsx)(d.p,{value:"$".concat(e.total.toFixed(2)),readOnly:!0,className:"bg-gray-50"})}),(0,a.jsx)("div",{className:"col-span-1",children:(0,a.jsx)(i.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>ey(t),disabled:1===el.length,className:"h-10 w-10 p-0",children:(0,a.jsx)(y.A,{className:"h-4 w-4"})})})]},e.id))}),(0,a.jsxs)("div",{className:"border-t pt-4 space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Subtotal:"}),(0,a.jsxs)("span",{children:["$",ep().toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("span",{children:["Tax (",er.taxRate,"%):"]}),(0,a.jsxs)("span",{children:["$",eg(ep(),parseFloat(er.taxRate)||0).toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between font-bold text-lg",children:[(0,a.jsx)("span",{children:"Total:"}),(0,a.jsxs)("span",{children:["$",ev(ep(),eg(ep(),parseFloat(er.taxRate)||0)).toFixed(2)]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{htmlFor:"notes",children:"Notes"}),(0,a.jsx)(x.T,{id:"notes",value:er.notes,onChange:e=>ei({...er,notes:e.target.value}),placeholder:"Additional notes"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(i.$,{variant:"outline",onClick:()=>$(!1),children:"Cancel"}),(0,a.jsx)(i.$,{onClick:()=>{if(!er.customerName||!er.issueDate||!er.dueDate){en({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}let t=el.filter(e=>""!==e.description.trim());if(0===t.length){en({title:"Error",description:"Please add at least one line item",variant:"destructive"});return}let s=ep(),a=parseFloat(er.taxRate)||0,n=eg(s,a),r=ev(s,n);eo([...e,{id:em(),documentNumber:eu(er.type),type:er.type,customerName:er.customerName,customerEmail:er.customerEmail,customerAddress:er.customerAddress,issueDate:er.issueDate,dueDate:er.dueDate,subtotal:s,taxRate:a,taxAmount:n,total:r,paidAmount:0,status:er.status,notes:er.notes,lineItems:t,createdAt:new Date().toISOString()}]),ex(),$(!1),en({title:"Success",description:"".concat(er.type," created successfully")})},className:"bg-[#32872e] hover:bg-[#256a24] text-white",children:"Create Document"})]})]})]})]}),(0,a.jsxs)("div",{className:"mb-6 grid gap-4 md:grid-cols-4",children:[(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(m.ZB,{className:"text-sm font-medium",children:"Total Invoiced"}),(0,a.jsx)(f.A,{className:"h-4 w-4 text-blue-600"})]}),(0,a.jsxs)(m.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(0,O.v)(eD,{minimumFractionDigits:2})}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"All invoices issued"})]})]}),(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(m.ZB,{className:"text-sm font-medium",children:"Total Paid"}),(0,a.jsx)(N.A,{className:"h-4 w-4 text-green-600"})]}),(0,a.jsxs)(m.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(0,O.v)(eC,{minimumFractionDigits:2})}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Payments received"})]})]}),(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(m.ZB,{className:"text-sm font-medium",children:"Outstanding"}),(0,a.jsx)(b.A,{className:"h-4 w-4 text-yellow-600"})]}),(0,a.jsxs)(m.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:(0,O.v)(ek,{minimumFractionDigits:2})}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Awaiting payment"})]})]}),(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(m.ZB,{className:"text-sm font-medium",children:"Overdue"}),(0,a.jsx)(w.A,{className:"h-4 w-4 text-red-500"})]}),(0,a.jsxs)(m.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:eM}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Past due invoices"})]})]})]}),(0,a.jsxs)("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-1 items-center gap-4",children:[(0,a.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,a.jsx)(A.A,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),(0,a.jsx)(d.p,{placeholder:"Search documents...",value:C,onChange:e=>_(e.target.value),className:"pl-10"})]}),(0,a.jsxs)(o.l6,{value:z,onValueChange:q,children:[(0,a.jsxs)(o.bq,{className:"w-[140px]",children:[(0,a.jsx)(S.A,{className:"mr-2 h-4 w-4"}),(0,a.jsx)(o.yv,{placeholder:"Type"})]}),(0,a.jsxs)(o.gC,{children:[(0,a.jsx)(o.eb,{value:"all",children:"All Types"}),(0,a.jsx)(o.eb,{value:"Invoice",children:"Invoices"}),(0,a.jsx)(o.eb,{value:"Receipt",children:"Receipts"}),(0,a.jsx)(o.eb,{value:"Credit Note",children:"Credit Notes"})]})]}),(0,a.jsxs)(o.l6,{value:L,onValueChange:V,children:[(0,a.jsx)(o.bq,{className:"w-[150px]",children:(0,a.jsx)(o.yv,{placeholder:"Status"})}),(0,a.jsxs)(o.gC,{children:[(0,a.jsx)(o.eb,{value:"all",children:"All Status"}),(0,a.jsx)(o.eb,{value:"Draft",children:"Draft"}),(0,a.jsx)(o.eb,{value:"Sent",children:"Sent"}),(0,a.jsx)(o.eb,{value:"Paid",children:"Paid"}),(0,a.jsx)(o.eb,{value:"Overdue",children:"Overdue"}),(0,a.jsx)(o.eb,{value:"Cancelled",children:"Cancelled"})]})]})]}),(0,a.jsxs)(i.$,{variant:"outline",className:"gap-2",children:[(0,a.jsx)(D.A,{className:"h-4 w-4"}),"Export"]})]}),(0,a.jsx)("div",{className:"rounded-lg border bg-white shadow-sm",children:(0,a.jsx)("div",{className:"max-w-full overflow-x-auto",children:(0,a.jsxs)(g.XI,{children:[(0,a.jsx)(g.A0,{children:(0,a.jsxs)(g.Hj,{children:[(0,a.jsx)(g.nd,{className:"min-w-[120px]",children:"Document #"}),(0,a.jsx)(g.nd,{className:"min-w-[100px]",children:"Type"}),(0,a.jsx)(g.nd,{className:"min-w-[180px]",children:"Customer"}),(0,a.jsx)(g.nd,{className:"min-w-[120px]",children:"Issue Date"}),(0,a.jsx)(g.nd,{className:"min-w-[120px]",children:"Due Date"}),(0,a.jsx)(g.nd,{className:"min-w-[120px]",children:"Total"}),(0,a.jsx)(g.nd,{className:"min-w-[120px]",children:"Paid"}),(0,a.jsx)(g.nd,{className:"min-w-[120px]",children:"Balance"}),(0,a.jsx)(g.nd,{className:"min-w-[120px]",children:"Status"}),(0,a.jsx)(g.nd,{className:"min-w-[150px]",children:"Actions"})]})}),(0,a.jsx)(g.BF,{children:0===eS.length?(0,a.jsx)(g.Hj,{children:(0,a.jsx)(g.nA,{colSpan:10,className:"text-center py-8 text-gray-500",children:"No documents found"})}):eS.map(e=>{let t=e.total-e.paidAmount;return(0,a.jsxs)(g.Hj,{className:"hover:bg-[#f0f1f2]",children:[(0,a.jsx)(g.nA,{className:"font-medium",children:e.documentNumber}),(0,a.jsx)(g.nA,{children:(0,a.jsx)(eT,{type:e.type})}),(0,a.jsx)(g.nA,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.customerName}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.customerEmail})]})}),(0,a.jsx)(g.nA,{children:(0,P.GP)(new Date(e.issueDate),"MMM dd, yyyy")}),(0,a.jsx)(g.nA,{children:(0,P.GP)(new Date(e.dueDate),"MMM dd, yyyy")}),(0,a.jsx)(g.nA,{children:(0,a.jsx)("div",{className:"font-medium",children:(0,O.v)(e.total)})}),(0,a.jsxs)(g.nA,{children:[(0,a.jsx)("div",{className:"font-medium",children:(0,O.v)(e.paidAmount)}),e.paymentDate&&(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Paid: ",(0,P.GP)(new Date(e.paymentDate),"MMM dd")]})]}),(0,a.jsx)(g.nA,{children:(0,a.jsx)("div",{className:"font-medium ".concat(t>0?"text-red-600":"text-gray-500"),children:(0,O.v)(t)})}),(0,a.jsx)(g.nA,{children:(0,a.jsx)(eE,{status:e.status})}),(0,a.jsx)(g.nA,{children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>eb(e),className:"h-8 w-8 p-0",title:"View",children:(0,a.jsx)(k,{className:"h-4 w-4"})}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>eN(e),className:"h-8 w-8 p-0",title:"Edit",children:(0,a.jsx)(M.A,{className:"h-4 w-4"})}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>ew(e),className:"h-8 w-8 p-0",title:"Export PDF",children:(0,a.jsx)(E.A,{className:"h-4 w-4"})}),"Draft"===e.status&&(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>eA(e),className:"h-8 w-8 p-0",title:"Send",children:(0,a.jsx)(T,{className:"h-4 w-4"})}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>ef(e.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",title:"Delete",children:(0,a.jsx)(y.A,{className:"h-4 w-4"})})]})})]},e.id)})})]})})})]}):null}},81304:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]])},91788:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},95754:(e,t,s)=>{Promise.resolve().then(s.bind(s,78259))},99474:(e,t,s)=>{"use strict";s.d(t,{T:()=>r});var a=s(95155);s(12115);var n=s(53999);function r(e){let{className:t,...s}=e;return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,n.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...s})}}},e=>{var t=t=>e(e.s=t);e.O(0,[4277,1943,752,6781,2900,5118,1154,2074,8441,1684,7358],()=>t(95754)),_N_E=e.O()}]);